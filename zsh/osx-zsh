#!/bin/zsh
#export GOROOT=/usr/local/go
appendPath "$GOROOT/bin"
export GOPATH=/Users/jixiuf/repos/proj_golang
appendPath "$GOPATH/bin"
if [ -f /Applications/Emacs.app/Contents/MacOS/Emacs ]; then
    export  ALTERNATE_EDITOR=/Applications/Emacs.app/Contents/MacOS/Emacs
fi
if [ -f /usr/local/bin/emacs ]; then
    export  ALTERNATE_EDITOR=/usr/local/bin/emacs
fi

emacsDaemonCount=`pgrep -f "emacs --daemon"|wc -l`
if [ $emacsDaemonCount -eq 0 ]; then
    emacs --daemon >/dev/null 2>&1 & 
fi

if [ -f /usr/local/Library/Contributions/brew_zsh_completion.zsh ]; then
    ln -s -f /usr/local/Library/Contributions/brew_zsh_completion.zsh ~/.zsh/site-functions/_brew
fi
if [ -d /usr/local/include/ ]; then
    export C_INCLUDE_PATH=$C_INCLUDE_PATH:/usr/local/include/
    export CPLUS_INCLUDE_PATH=$CPLUS_INCLUDE_PATH:/usr/local/include/
    export OBJC_INCLUDE_PATH=$OBJC_INCLUDE_PATH:/usr/local/include/
fi
if [ -d /usr/local/lib/ ]; then
    export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lib/
fi
if [ -d /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.11.sdk/usr/include ]; then
    export C_INCLUDE_PATH=$C_INCLUDE_PATH:/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.11.sdk/usr/include 
    export CPLUS_INCLUDE_PATH=$CPLUS_INCLUDE_PATH:/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.11.sdk/usr/include 
    export OBJC_INCLUDE_PATH=$OBJC_INCLUDE_PATH:/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.11.sdk/usr/include 
fi