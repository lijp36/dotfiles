<?xml version="1.0"?>
<root>
  <!-- ln -s -f "/Users/jixiuf/Documents/Dropbox/Karabiner/private.xml" /Users/jixiuf/Library/Application\ Support/Karabiner/private.xml -->

  <!-- https://pqrs.org/osx/karabiner/xml.html.en#examples -->
  <!-- keycode 列表 https://github.com/tekezo/Karabiner/blob/version_10.15.0/src/bridge/generator/keycode/data/KeyCode.data -->
  <!-- https://github.com/tekezo/Karabiner/blob/version_10.15.0/src/core/server/Resources/include/checkbox/samples.xml -->
  <!-- https://github.com/tekezo/Karabiner/blob/3acb1af39416657d4a74cc9e6e57993ef364e0b2/src/core/server/Resources/include/checkbox/apps/finder.xml -->

  <!-- <inputsourcedef> -->
  <!--   <name>KeyCode::VK_CHANGE_INPUTSOURCE_ChineseInputMethodSquirrelRime</name> -->
  <!--   <inputsourceid_prefix>com.googlecode.rimeime.inputmethod.Squirrel.Rime</inputsourceid_prefix> -->
  <!-- </inputsourcedef> -->

  <replacementdef>
    <replacementname>UIELEMENTROLES_EDITING_IN_SAFARI</replacementname>
    <!-- editing file name: AXTextField -->
    <!-- editing command:   AXTextArea -->
    <!-- 有时不起作用 -->
    <replacementvalue>AXTextField, AXTextArea, AXStaticText, AXTimeField, AXDateField</replacementvalue>
    <!-- <replacementvalue>AXSheet,  AXDrawer,  AXGrowArea,  AXImage,  AXUnknown,  AXButton,  AXRadioButton,  AXCheckBox,  AXPopUpButton,  AXMenuButton,  AXTabGroup,  AXTable,  AXColumn,  AXRow,  AXOutline,  AXBrowser,  AXScrollArea,  AXScrollBar,  AXRadioGroup,  AXList,  AXGroup,  AXValueIndicator,  AXComboBox,  AXSlider,  AXIncrementor,  AXBusyIndicator,  AXProgressIndicator,  AXRelevanceIndicator,  AXToolbar,  AXDisclosureTriangle,  AXTextField,  AXTextArea,  AXStaticText,  AXMenuBar,  AXMenuBarItem,  AXMenu,  AXMenuItem,  AXSplitGroup,  AXSplitter,  AXColorWell,  AXTimeField,  AXDateField,  AXHelpTag,  AXMatteRole,  AXDockItem,  AXRuler,  AXRulerMarker,  AXGrid,  AXLevelIndicator,  AXCell,  AXLayoutArea,  AXLayoutItem,  AXHandle,  AXPopover,  AXWebArea</replacementvalue> -->
    
  </replacementdef>

  <item>
    <name>Shift_L to Shift_L</name>
    <appendix> + When you type Shift_L only,change to previous system input method</appendix>
    <appendix>Shift_L == (Ctrl-Space)</appendix>
    <identifier>private.change_input_source_to_squirrel.Rime</identifier>
    <autogen>__KeyOverlaidModifier__ KeyCode::SHIFT_L, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::SHIFT_L, KeyCode::SPACE,ModifierFlag::OPTION_L</autogen>
  </item>

  <item>
    <appendix>my config for Finder</appendix>
    <item>
      <name>Finder C-d delete file</name>
      <appendix>C-d 代替 Cmd-delete</appendix>
      <identifier>private.finder_delete_file</identifier>
      <only>FINDER</only>
      <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_FINDER }}</uielementrole_not>
      <autogen>__KeyToKey__ ,KeyCode::D, ModifierFlag::CONTROL_L,  KeyCode::DELETE, ModifierFlag::COMMAND_L</autogen>
    </item>


    <!-- shell commands -->
    <vkopenurldef>
      <name>KeyCode::VK_OPEN_URL_toggle_finder_hidden_file</name>
      <url type="shell">
        <![CDATA[    status=`defaults read com.apple.finder AppleShowAllFiles`
                 if [ "TRUE" = $status ]; then
                 defaults write com.apple.finder AppleShowAllFiles FALSE
                 else
                 defaults write com.apple.finder AppleShowAllFiles TRUE
                 fi
                 osascript -e '
                 tell application "Finder"
                 --   tell front window
                 --    update every item with necessity
                 --  end tell
                 quit
                 delay 0.1 -- without this there was a "connection is invalid" error
                 launch -- without this Finder was not made frontmost
                 activate -- make Finder frontmost
                 reopen -- open a default window
                 end tell
                 '
        ]]>
      </url>
    </vkopenurldef>

    <item>
      <name>Toggle Hidden File in Finder</name>
      <appendix>Alt-O  Toggle Hidden FiLe</appendix>
      <identifier>private.finder_toggle_hidden_file</identifier>
      <only>FINDER</only>
      <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_FINDER }}</uielementrole_not>
      <autogen>__KeyToKey__ ,KeyCode::O, ModifierFlag::OPTION_L,  KeyCode::VK_OPEN_URL_toggle_finder_hidden_file</autogen>
    </item>

    <!-- shell commands -->
    <vkopenurldef>
      <name>KeyCode::VK_OPEN_URL_open_iterm_here</name>
      <url type="shell">
        <![CDATA[
            osascript -e '
            -- -*- coding:utf-8 mode:applescript-*-
            tell application "Finder"
                try
                    activate
                    set frontWin to folder of front window as string
                    set frontWinPath to (get POSIX path of frontWin)
                    tell application "iTerm"
                        activate
                        if (count of terminals) = 0 then
                            set t to (make new terminal)
                        else
                            set t to current terminal
                        end if
                        tell t
                            launch session "Default Session"
                            tell the last session
                                set cmd to "cd " & quote & frontWinPath & quote & ";clear"
                                -- do script with command cmd
                                write text cmd
                                -- exec command (cmd)
                            end tell
                        end tell
                    end tell
                on error error_message
                    beep
                    display dialog error_message buttons ¬
                        {"OK"} default button 1
                end try
            end tell
'
        ]]>
      </url>
    </vkopenurldef>
    <item>
      <name>Open iTerm here in Finder</name>
      <appendix>Alt-C Open iTerm here</appendix>
      <identifier>private.finder_open_iterm_here</identifier>
      <only>FINDER</only>
      <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_FINDER }}</uielementrole_not>
      <autogen>__KeyToKey__ ,KeyCode::C, ModifierFlag::OPTION_L,  KeyCode::VK_OPEN_URL_open_iterm_here</autogen>
    </item>

    <item>
      <name>Ctrl+m to Open in Finder</name>
      <appendix>Ctrl+m to Open</appendix>
      <identifier>private.finder_ctrl_m_to_open</identifier>
      <only>FINDER</only>
      <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_FINDER }}</uielementrole_not>
      <autogen>__KeyToKey__ ,KeyCode::M ,ModifierFlag::CONTROL_L,  KeyCode::O, ModifierFlag::COMMAND_L</autogen>
    </item>

    <item>
      <name>Return to Open in Finder</name>
      <appendix>(when there are no other modifiers)</appendix>
      <identifier>private.finder_return_to_open</identifier>
      <only>FINDER</only>
      <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_FINDER }}</uielementrole_not>
      <modifier_not>
        ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
      </modifier_not>
      <autogen>__KeyToKey__ ,KeyCode::RETURN,  KeyCode::O, ModifierFlag::COMMAND_L</autogen>
    </item>
    <item>
      <name>Ctrl-u goto up directory in Finder(encoling folder)</name>
      <appendix>(when there are no other modifiers)</appendix>
      <identifier>private.finder_curl_u_to_dir_up</identifier>
      <only>FINDER</only>
      <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_FINDER }}</uielementrole_not>
      <modifier_not >
        ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
      </modifier_not>
      <autogen>__KeyToKey__ ,KeyCode::U,ModifierFlag::CONTROL_L,  KeyCode::CURSOR_UP, ModifierFlag::COMMAND_L</autogen>
    </item>
    <item>
      <name>Ctrl-h history go back</name>
      <appendix>map to Command-[</appendix>
      <appendix>(when there are no other modifiers)</appendix>
      <identifier>private.finder_curl_h_go_back</identifier>
      <only>FINDER</only>
      <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_FINDER }}</uielementrole_not>
      <modifier_not >
        ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
      </modifier_not>
      <autogen>__KeyToKey__ ,KeyCode::H,ModifierFlag::CONTROL_L,  KeyCode::BRACKET_LEFT, ModifierFlag::COMMAND_L</autogen>
    </item>

    <item>
      <name>Ctrl-l history go forward</name>
      <appendix>map to Command-]</appendix>
      <appendix>(when there are no other modifiers)</appendix>
      <identifier>private.finder_curl_l_go_back</identifier>
      <only>FINDER</only>
      <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_FINDER }}</uielementrole_not>
      <modifier_not >
        ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
      </modifier_not>
      <autogen>__KeyToKey__ ,KeyCode::L,ModifierFlag::CONTROL_L,  KeyCode::BRACKET_RIGHT, ModifierFlag::COMMAND_L</autogen>
    </item>


  </item>
  <item>
      <name>my global key binding</name>
    <!-- my global keybinds  -->
    <!-- shell commands -->
    <vkopenurldef>
      <name>KeyCode::VK_OPEN_URL_toggle_iterm</name>
      <url type="shell">
        <![CDATA[    
                 osascript -e '
                    set appName to "iTerm"
                    set startIt to false
                    tell application "System Events"
                        if not (exists process appName) then
                            set startIt to true
                        else if frontmost of process appName then
                            set visible of process appName to false
                        else
                            set frontmost of process appName to true
                        end if
                    end tell
                    if startIt then
                        tell application appName to activate
                    end if
                 '
        ]]>
      </url>
    </vkopenurldef>

    <item>
      <name>toggle_iterm</name>
      <appendix>Cmd-d</appendix>
      <identifier>private.global_toggle_iterm</identifier>
      <autogen>__KeyToKey__ ,KeyCode::D, ModifierFlag::COMMAND_L,  KeyCode::VK_OPEN_URL_toggle_iterm</autogen>
      <modifier_not >
        ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
      </modifier_not>
      
    </item>



    <vkopenurldef>
      <name>KeyCode::VK_OPEN_URL_toggle_safari</name>
      <url type="shell">
        <![CDATA[    
                 osascript -e '
                    set appName to "Safari"
                    set startIt to false
                    tell application "System Events"
                        if not (exists process appName) then
                            set startIt to true
                        else if frontmost of process appName then
                            set visible of process appName to false
                        else
                            set frontmost of process appName to true
                        end if
                    end tell
                    if startIt then
                        tell application appName to activate
                    end if
                 '
        ]]>
      </url>
    </vkopenurldef>

    <item>
      <name>toggle_safari</name>
      <appendix>Cmd-f1</appendix>
      <identifier>private.global_toggle_safari</identifier>
      <autogen>__KeyToKey__ ,KeyCode::F1, ModifierFlag::COMMAND_L,  KeyCode::VK_OPEN_URL_toggle_safari</autogen>
      <modifier_not >
        ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
      </modifier_not>
      
    </item>
    

  </item>

  
  <item>
      <name>my keybinding for safari</name>
    <item>
      <name>next tab</name>
      <appendix>Cmd-n</appendix>
      <identifier>private.safari_next_tab</identifier>
      <autogen>__KeyToKey__ ,KeyCode::N, ModifierFlag::COMMAND_L,KeyCode::BRACKET_RIGHT, ModifierFlag::COMMAND_L|ModifierFlag::SHIFT_L</autogen>
      <only>SAFARI</only>
      <modifier_not >
        ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
      </modifier_not>
    </item>
    <item>
      <name>previous tab</name>
      <appendix>Cmd-p</appendix>
      <identifier>private.safari_prev_tab</identifier>
      <autogen>__KeyToKey__ ,KeyCode::P, ModifierFlag::COMMAND_L,KeyCode::BRACKET_LEFT, ModifierFlag::COMMAND_L|ModifierFlag::SHIFT_L</autogen>
      <only>SAFARI</only>
      <modifier_not >
        ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
      </modifier_not>
    </item>
    
    <item>
      <name>next tab</name>
      <appendix>Option-n</appendix>
      <identifier>private.safari_next_tab_option</identifier>
      <autogen>__KeyToKey__ ,KeyCode::N, ModifierFlag::OPTION_L,KeyCode::BRACKET_RIGHT, ModifierFlag::COMMAND_L|ModifierFlag::SHIFT_L</autogen>
      <only>SAFARI</only>
      <modifier_not >
        ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
        ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
      </modifier_not>
    </item>
    <item>
      <name>previous tab</name>
      <appendix>Option-p</appendix>
      <identifier>private.safari_prev_tab_option</identifier>
      <autogen>__KeyToKey__ ,KeyCode::P, ModifierFlag::OPTION_L,KeyCode::BRACKET_LEFT, ModifierFlag::COMMAND_L|ModifierFlag::SHIFT_L</autogen>
      <only>SAFARI</only>
      <modifier_not >
        ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R,
        ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
      </modifier_not>
    </item>

    <item>
      <name>search </name>
      <appendix>Ctrl-s</appendix>
      <identifier>private.safari_search_ctrl-s</identifier>
      <autogen>__KeyToKey__ ,KeyCode::S, ModifierFlag::CONTROL_L,KeyCode::F, ModifierFlag::COMMAND_L</autogen>
      <only>SAFARI</only>
      <modifier_not >
        ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
      </modifier_not>
    </item>
    <item>
      <name>ctrl-/ search</name>
      <appendix>map to Command-f</appendix>
      <appendix>(when there are no other modifiers)</appendix>
      <identifier>private.safari_/_search</identifier>
      <only>SAFARI</only>
      <!-- <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_SAFARI }}</uielementrole_not> -->
      <modifier_not >
        <!-- ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R, -->
        ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
      </modifier_not>
      <autogen>__KeyToKey__ ,KeyCode::SLASH,ModifierFlag::CONTROL_L, KeyCode::F, ModifierFlag::COMMAND_L</autogen>
    </item>

    <!-- <item> -->
    <!--   <name>n search next</name> -->
    <!--   <appendix>map to Command-g</appendix> -->
    <!--   <appendix>(when there are no other modifiers)</appendix> -->
    <!--   <identifier>private.safari_cmd_g_search_next</identifier> -->
    <!--   <only>SAFARI</only> -->
    <!--   <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_SAFARI }}</uielementrole_not> -->
    <!--   <modifier_not > -->
    <!--     ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R, -->
    <!--     ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R, -->
    <!--     ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R, -->
    <!--     ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R, -->
    <!--   </modifier_not> -->
    <!--   <autogen>__KeyToKey__ ,KeyCode::N,KeyCode::G, ModifierFlag::COMMAND_L</autogen> -->
    <!-- </item> -->

    <!-- <item> -->
    <!--   <name>N search next</name> -->
    <!--   <appendix>map to Command-shift-g</appendix> -->
    <!--   <appendix>(when there are no other modifiers)</appendix> -->
    <!--   <identifier>private.safari_cmd_shift_g_search_prev</identifier> -->
    <!--   <only>SAFARI</only> -->
    <!--   <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_SAFARI }}</uielementrole_not> -->
    <!--   <modifier_not > -->
    <!--     ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R, -->
    <!--     ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R, -->
    <!--     ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R, -->
    <!--   </modifier_not> -->
    <!--   <autogen>__KeyToKey__ ,KeyCode::N,ModifierFlag::SHIFT_L,KeyCode::G, ModifierFlag::COMMAND_L|ModifierFlag::SHIFT_L</autogen> -->
    <!-- </item> -->
    

    <item>
      <name>focus address </name>
      <appendix>ctrl-;</appendix>
      <identifier>private.safari_focus_address</identifier>
      <autogen>__KeyToKey__ ,KeyCode::SEMICOLON, ModifierFlag::CONTROL_L,KeyCode::L, ModifierFlag::COMMAND_L</autogen>
      <only>SAFARI</only>
      <modifier_not >
        <!-- ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R, -->
        ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
      </modifier_not>
    </item>
    
        <item>
      <name>toggle left column</name>
      <appendix>f4</appendix>
      <identifier>private.safari_toggle_left_column</identifier>
      <autogen>__KeyToKey__ ,KeyCode::F4,KeyCode::L, ModifierFlag::COMMAND_L|ModifierFlag::SHIFT_L</autogen>
      <only>SAFARI</only>
      <modifier_not >
        ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R,
        ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
      </modifier_not>
    </item>

    <item>
      <name>ctrl-h history go back</name>
      <appendix>map to Command-[</appendix>
      <appendix>(when there are no other modifiers)</appendix>
      <identifier>private.safari_curl_h_go_back</identifier>
      <only>SAFARI</only>
      <!-- <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_SAFARI }}</uielementrole_not> -->
      <modifier_not >
        ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
      </modifier_not>
      <autogen>__KeyToKey__ ,KeyCode::H,ModifierFlag::CONTROL_L,   KeyCode::BRACKET_LEFT, ModifierFlag::COMMAND_L</autogen>
    </item>

    <item>
      <name>ctrl-l history go forward</name>
      <appendix>map to Command-]</appendix>
      <appendix>(when there are no other modifiers)</appendix>
      <identifier>private.safari_curl_l_go_back</identifier>
      <only>SAFARI</only>
      <!-- <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_FINDER }}</uielementrole_not> -->
      <!-- <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_SAFARI }}</uielementrole_not> -->
      <modifier_not >
        <!-- ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R, -->
        ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
      </modifier_not>
      <autogen>__KeyToKey__ ,KeyCode::L,ModifierFlag::CONTROL_L,   KeyCode::BRACKET_RIGHT, ModifierFlag::COMMAND_L</autogen>
    </item>

    <item>
      <name>ctrl-j scroll down</name>
      <appendix>map to down</appendix>
      <appendix>(when there are no other modifiers)</appendix>
      <identifier>private.safari_j_scroll_down</identifier>
      <only>SAFARI</only>
      <!-- <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_FINDER }}</uielementrole_not> -->
      <!-- <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_SAFARI }}</uielementrole_not> -->
      <modifier_not >
        <!-- ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R, -->
        ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
      </modifier_not>
      <autogen>__KeyToKey__ ,KeyCode::J,ModifierFlag::CONTROL_L,   KeyCode::CURSOR_DOWN</autogen>
    </item>
    <item>
      <name>ctrl-k scroll up</name>
      <appendix>map to up</appendix>
      <appendix>(when there are no other modifiers)</appendix>
      <identifier>private.safari_k_scroll_up</identifier>
      <only>SAFARI</only>
      <!-- <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_SAFARI }}</uielementrole_not> -->
      <modifier_not >
        <!-- ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R, -->
        ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
      </modifier_not>
      <autogen>__KeyToKey__ ,KeyCode::K,ModifierFlag::CONTROL_L,   KeyCode::CURSOR_UP</autogen>
    </item>
    
    <item>
      <name>ctrl-r reload</name>
      <appendix>map to Cmd-r</appendix>
      <appendix>(when there are no other modifiers)</appendix>
      <identifier>private.safari_r_reload</identifier>
      <only>SAFARI</only>
      <!-- <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_FINDER }}</uielementrole_not> -->
      <!-- <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_SAFARI }}</uielementrole_not> -->
      <modifier_not >
        ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
      </modifier_not>
      <autogen>__KeyToKey__ ,KeyCode::R,ModifierFlag::CONTROL_L,  KeyCode::L,ModifierFlag::COMMAND_L,KeyCode::RETURN</autogen>
    </item>
    
    <item>
      <name>ctrl-g esc</name>
      <appendix>map to esc</appendix>
      <appendix>(when there are no other modifiers)</appendix>
      <identifier>private.safari_ctrl_g_reload</identifier>
      <only>SAFARI</only>
      <!-- <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_FINDER }}</uielementrole_not> -->
      <!-- <uielementrole_not>{{ UIELEMENTROLES_EDITING_IN_SAFARI }}</uielementrole_not> -->
      <modifier_not >
        ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
      </modifier_not>
      <autogen>__KeyToKey__ ,KeyCode::G,ModifierFlag::CONTROL_L,  KeyCode::ESCAPE</autogen>
    </item>
    
  </item>
</root>
